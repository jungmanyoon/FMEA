# 고장형태 온톨로지 (Failure Mode Ontology)

**목적**: validate_failure_mode.py의 금지어/태그 규칙을 동적으로 로드

**적용**: `scripts/validate_failure_mode.py`의 `load_failure_mode_ontology()` 함수에서 파싱

**원리**: SSOT - 이 파일이 고장형태(E열) 검증 규칙의 단일 진실 원천

---

## SECTION:FORBIDDEN_PATTERNS

측정값 패턴: 증가, 저하, 상승, 감소
추상적 표현: 불량, 이상, 미흡
힘/강도 패턴: 체결력, 고정력, 압착력, 클램핑력, 접촉력, 밀착력, 조임력, 결합력
물성 패턴: 기밀성, 절연성, 내구성, 접착성, 유연성, 강성, 경도
기능 패턴: 기능, 성능, 효율, 용량, 능력

## SECTION:FORBIDDEN_EXACT

미래결과: 소음, 진동, 오작동, 동작불가, 트립, 정전
복합측정값: 철손증가, 여자전류증가, 와전류증가, 손실증가, 효율저하, 성능저하, 소음증가, 진동증가, 자왜진동
추상적힘: 체결력 부족, 고정력 부족, 압착력 부족, 클램핑력 부족, 접촉력 부족, 밀착력 부족, 조임력 부족
추상적물성: 기밀성 저하, 절연성 저하, 내구성 저하, 접착성 저하, 유연성 저하, 강성 부족, 경도 미달

## SECTION:ALLOWED_EXCEPTIONS

치수초과, 다점접지, 접촉불량, 밀착불량, 용접불량, 적층불량, 압착불량, 체결불량, 조립불량, 가공불량

## SECTION:VISIBLE_PHENOMENA

물리적변형: 이완, 변형, 균열, 크랙, 파손, 좌굴, 휨, 뒤틀림, 찌그러짐, 늘어남, 수축
표면상태: 부식, 변색, 탄화, 마모, 스크래치, 흠집, 오염, 얼룩, 산화, 녹
분리상태: 탈락, 분리, 이격, 박리, 층간분리, 벗겨짐, 떨어짐, 빠짐
연결상태: 풀림, 느슨함, 헐거움, 접촉불량, 단선, 단락, 개방
누출상태: 누설, 누유, 기포, 침투, 스며듬
기타관찰: 과열흔적, 아크흔적, 열점, 변위, 편심, 기울어짐, 걸림

## SECTION:REQUIRED_TAGS

부족:, 과도:, 유해:

## SECTION:TAG_KEYWORD_MAP

### TAG:부족:
허용: 이완, 불량, 결함, 누락, 누설, 개방, 단락, 접촉불량, 공극, 분리, 탈락, 풀림, 균열, 크랙, 절연저하, 이격, 밀착불량
금지: 과열, 팽창, 변색, 과다, 포화, 집중, 초과

### TAG:과도:
허용: 과열, 변색, 팽창, 변형, 열변형, 과열흔적, 과다, 포화, 집중, 초과
금지: 이완, 분리, 탈락, 풀림, 부족, 불량, 결함, 누락

### TAG:유해:
허용: 열점, 탄화, 마모, 오염, 아크흔적, 열화, 간섭
금지: 불완전, 부족, 미달, 부분방전, 누설자속, 와전류, 접지경로, 자왜

> **참고**: 부분방전/누설자속/와전류/접지경로/자왜는 측정 장비 필요 -> VISIBILITY_RULE 위반
> **대체**: 해당 현상의 결과인 눈에 보이는 현상(탄화, 아크흔적, 변색, 과열흔적 등)으로 표현

## SECTION:MECHANISM_KEYWORDS

> **[BLOCKING]** E열(고장형태)에 메커니즘 용어 금지!
> 메커니즘은 G열(고장메커니즘)에 작성해야 함
> **근거**: 작성가이드 V1.2 - "피로는 메커니즘"

### 금지 메커니즘 용어 (G열로 이동!)
메커니즘용어: 피로, 응력집중, 크리프, 열화진행, 부식진행, 산화진행, 마모진행, 열피로, 기계피로, 열팽창, 열수축, 와전류, 히스테리시스

### 변환 규칙
| 잘못된 E열 | 올바른 E열 | G열로 이동 |
|-----------|-----------|-----------|
| 피로 파손 | 파손 | 피로 |
| 응력집중 | 크랙, 균열 | 응력집중 |
| 크리프 변형 | 변형 | 크리프 |
| 열피로 크랙 | 크랙 | 열피로 |

---

## 파싱 규칙

- `## SECTION:<섹션명>` 형식으로 섹션 구분
- `### TAG:<태그명>` 형식으로 태그별 매핑 구분
- `카테고리: 키워드1, 키워드2, ...` 형식으로 키워드 나열
- `허용:` / `금지:` 접두어로 태그 내 규칙 구분

## 옵션 A (3줄 구조) 처리 규칙

**형식** (**대괄호 금지!**):
```
부족: 현상 (또는 과도: / 유해:)
(현상에 대한 상세 설명)
(부족: [기능 결과물]이 부족하면 [현상] 발생)
```

> **[!!] 핵심 원리 (가이드 V1.3)**: 태그 기준 = **기능 자체가 아닌 "기능이 만들어내는 결과물"**
> - 기능: "자속을 전달한다"
> - 기능 결과물: "전달된 자속" ← 이것이 부족/과도/유해한지 판단!
> - 올바른 판단: "전달된 자속이 부족하면..."

**검증 시 처리**:
1. **1줄만 검증**: 첫 번째 줄바꿈(`\n`) 이전 내용만 검증
2. 2줄 (상세 설명)은 검증 대상에서 제외
3. 3줄 (태그 판단 근거)은 검증 대상에서 제외
4. 태그와 현상 부분만 검증

**예시**:
- `부족: 적층이완\n(철심 판의 누적 팽창으로...)\n(부족: 전달된 자속이 부족하면 적층이완 발생)` → `부족: 적층이완`만 검증

**판단 기준 질문 (AIAG-VDA: Unintended Function 기반, 가이드 V1.3)**:

> **태그 선택 기준 = 기능 결과물**
> - 부족: "기능 결과물이 **덜** 되면?" → 목표에 못 미침
> - 과도: "기능 결과물이 **너무 많으면**?" → 목표를 초과함
> - 유해: "기능 결과물은 **정상인데 딴 데서** 문제?" → 의도치 않은 부작용

| 태그 | 핵심 질문 | 기능 결과물 상태 | 3줄 판단 근거 형식 |
|------|----------|-----------------|-------------------|
| **부족:** | "결과물이 덜 되면?" | 결과물 미달 | `(부족: [기능 결과물]이 부족하면 [현상] 발생)` |
| **과도:** | "결과물이 과하면?" | 결과물 초과 | `(과도: [기능 결과물]이 과하면 [현상] 발생)` |
| **유해:** | "결과물 정상인데 딴 데서?" | 결과물 정상, 부작용 | `(유해: [기능 결과물] 정상 수행 시 의도치 않은 [현상] 발생)` |

**기능 → 기능 결과물 변환 예시**:
| 기능 (B열) | 기능 결과물 | 판단 근거 예시 |
|-----------|-----------|--------------|
| 자속을 전달한다 | 전달된 자속 | (부족: 전달된 자속이 부족하면 층간단락 발생) |
| 전류 경로를 제공한다 | 제공된 전류 경로 | (부족: 제공된 전류 경로가 부족하면 도체 파단 발생) |
| 열을 방출한다 | 방출된 열 | (과도: 방출된 열이 과하면 과열흔적 발생) |
| 절연을 유지한다 | 유지된 절연 | (부족: 유지된 절연이 부족하면 절연파괴 발생) |

---

## SECTION:VISIBILITY_RULE

검증원칙: 고장형태는 반드시 "눈에 보이는 현상"이어야 함
검증질문: 측정 장비 없이 육안 또는 간단한 검사로 확인 가능한가?
금지기준: 토크렌치, 저항측정기, 절연저항계 등 측정 장비 필요 시 -> 금지!
대체방법: 추상적 개념 -> VISIBLE_PHENOMENA 섹션의 구체적 현상으로 대체

## SECTION:ABSTRACT_TO_VISIBLE_MAP

체결력 부족: 풀림, 이완, 헐거움, 느슨함
고정력 부족: 이완, 변위, 탈락, 이동
압착력 부족: 이격, 분리, 간극발생, 밀착불량
클램핑력 부족: 이완, 변위, 풀림
접촉력 부족: 접촉불량, 이격, 분리, 아크흔적
기밀성 저하: 누설, 누유, 기포, 스며듬
절연성 저하: 탄화, 변색, 아크흔적, 균열
내구성 저하: 균열, 마모, 피로흔적, 변형

---

## 버전 관리

**버전**: 1.4
**작성일**: 2026-02-03
**변경 이력**:
- v1.0: 초기 버전 - 마크다운 테이블 형식
- v1.1: 파싱 안정성 개선 - 명시적 섹션 마커 형식으로 변경
- v1.2: 추상적 개념 금지 강화 (체결력, 고정력 등), 눈에 보이는 현상 정의 추가, 추상->구체 변환 매핑 추가
- v1.3: **3줄 판단 근거 형식 수정** - "기능" 기준에서 "기능 결과물" 기준으로 변경 (가이드 V1.3 반영), 기능→기능결과물 변환 예시 추가
- v1.4: **유해: 허용 목록 정리** - VISIBILITY_RULE 위반 항목 금지로 이동 (부분방전, 누설자속, 와전류, 접지경로, 자왜 -> 측정장비 필요)
