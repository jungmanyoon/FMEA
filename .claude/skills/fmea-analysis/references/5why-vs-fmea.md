# 5 Why vs FMEA 비교 가이드

> **목적**: FMEA와 5 Why(RCA) 방법론의 근본적 차이 이해 및 혼동 방지
> **기준**: 회의 합의 260109 (임채익 이사 피드백)

---

## 핵심 차이점

### 1. 시작점과 방향

| 구분 | 5 Why (RCA) | FMEA |
|------|-------------|------|
| **시작점** | 이미 발생한 문제 (Failure) | 기능 정의 (Function) |
| **방향** | 역방향 (영향 → 형태 → 원인) | 정방향 (기능 → 이상 → 형태) |
| **성격** | Reactive (사후 대응) | Proactive (사전 예방) |
| **목적** | 근본 원인 추적 | 미지의 위험 발견 |

### 2. 사고 흐름 비교

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[X] 5 Why 방식 (FMEA에서 금지!)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

문제 발생: "변압기 화재"
   ↓ 왜?
"과열이 발생했다"
   ↓ 왜?
"단락이 발생했다"
   ↓ 왜?
"절연이 열화되었다"
   ↓ 왜?
"절연지 두께가 부족했다"

→ 이미 알려진 문제에 대한 원인 추적 (Reactive)
→ 새로운 위험 발견 불가

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[OK] FMEA 방식 (올바른 접근)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

기능 정의: "절연물이 전기적 분리를 유지한다"
   ↓ 기능이 어떻게 이상해질 수 있나?
기능 이상 분석:
   ├─ 부족: 전기적 분리 부족 → 절연 저하, 개방
   ├─ 과: 전기적 분리 과도 → (해당 없음)
   └─ 유해: 전기적 분리 시 부작용 → 열화, 부분방전
   ↓
고장형태 도출: 절연 열화, 절연 저하, 부분방전
   ↓
각 고장형태의 영향 분석:
   └─ 절연 열화 → 단락 → 과열 → 화재 (미래 영향)

→ 기능에서 시작하여 잠재적 고장 사전 발견 (Proactive)
→ 아직 발생하지 않은 위험도 예측 가능
```

---

## 기능의 이상 = 고장형태 (과/부족/유해)

> **상세 내용은 [diamond-structure.md](diamond-structure.md#-기능의-이상--고장형태-과부족유해-도출법) 참조**

| 분류 | 의미 | 질문 (가이드 V1.3) |
|------|------|------|
| **부족:** | 결과물 미달 | "기능 결과물이 부족하면?" |
| **과도:** | 결과물 초과 | "기능 결과물이 과하면?" |
| **유해:** | 부작용 | "기능 결과물 정상인데 부작용?" |

[!] **주의**: "진동", "와전류증가"는 C열(고장영향)으로 → E열에는 관찰 가능한 형태만!

---

## 시점 기반 컬럼 구분

### FMEA 컬럼과 시점 매핑

| 시점 | 컬럼 | 질문 | 관찰 방법 |
|------|------|------|----------|
| **과거** | F열 (고장원인) | "왜 발생했나?" | 원인 분석, 설계 검토 |
| **현재** | E열 (고장형태) | "지금 관찰 가능?" | 육안 검사, 측정 |
| **미래** | C열 (고장영향) | "앞으로 무슨 일?" | 시뮬레이션, 예측 |

### 혼동 방지 체크리스트

| 항목 | 잘못된 배치 | 올바른 배치 | 이유 |
|------|------------|------------|------|
| **피로 파손** | E열: "피로 파손" | E열: "파손", G열: "피로" | 피로는 메커니즘 |
| **임의 사용** | E열: "임의 사용" | F열: "설계: 임의 사용" | 사용은 원인 |
| **소음/진동** | E열: "소음", "진동" | C열: "소음 증가", "진동 발생" | 미래 영향 |
| **철손 증가** | E열: "철손 증가" | G열: "와전류→철손" | 측정값 |
| **효율 저하** | E열: "효율 저하" | C열: "효율 저하" | 미래 영향 |

---

## [LOCK] E열 태그 형식 (SCRIPT-ENFORCED)

> 임채익 이사 (260109): "기능이상의 측면에서 **빠짐이 없느냐**를 점검"

### 태그 형식 필수

**형식**: `부족: 현상` / `과도: 현상` / `유해: 현상` (**대괄호 금지!**)

**[*] 옵션 A (3줄 구조) - 필수 적용 (가이드 V1.3)**:
```
1줄: 부족: 현상 (또는 과도: / 유해:)
2줄: (현상에 대한 상세 설명)
3줄: (부족: [기능 결과물]이 부족하면 [현상] 발생)
```

> **[!!] 핵심 원리 (가이드 V1.3)**: 태그 기준 = **기능 자체가 아닌 "기능이 만들어내는 결과물"**

```
기능 정의 → 기능이 [과/부족/유해] → 고장형태(E열) 도출
```

| 태그 | 의미 | 3줄 구조 예시 (가이드 V1.3) |
|------|------|-------------|
| `부족:` | 결과물 미달 | `부족: 적층이완`<br>`(철심 판의 누적 팽창으로 조립 불안정)`<br>`(부족: 전달된 자속이 부족하면 적층이완 발생)` |
| `과도:` | 결과물 초과 | `과도: 포화흔적`<br>`(자속 밀도 초과로 인한 변색)`<br>`(과도: 전달된 자속이 과하면 포화흔적 발생)` |
| `유해:` | 부작용 | `유해: 와전류흔적`<br>`(철심에서 발생하는 국부 발열)`<br>`(유해: 전달된 자속 정상 수행 시 의도치 않은 와전류흔적 발생)` |

**태그 판단 기준 질문 (AIAG-VDA 기반, 가이드 V1.3)**:
| 태그 | 핵심 질문 | 기능 결과물 상태 | 3줄 판단 근거 형식 |
|------|----------|-----------------|-------------------|
| **부족:** | "기능 결과물이 부족하면?" | 결과물 미달 | `([기능 결과물]이 부족하면 [현상] 발생)` |
| **과도:** | "기능 결과물이 과하면?" | 결과물 초과 | `([기능 결과물]이 과하면 [현상] 발생)` |
| **유해:** | "기능 결과물 정상인데 딴 데서?" | 결과물 정상, 부작용 | `([기능 결과물] 정상 수행 시 의도치 않은 [현상] 발생)` |

### 인과관계 자가검증 질문 (가이드 V1.3)

> **핵심**: 태그 기준 = **기능 자체가 아닌 "기능이 만들어내는 결과물"**

작성 시 다음 질문에 답할 수 있어야 함:
- **부족:** "**기능 결과물**이 **부족**해서 이 현상이 발생하는가?"
- **과도:** "**기능 결과물**이 **과도**해서 이 현상이 발생하는가?"
- **유해:** "**기능 결과물** 정상인데 **부작용**으로 이 현상이 유발되는가?"

**예시 (철심 - 기능: 자속을 전달한다 → 기능 결과물: 전달된 자속)**:
```
[OK] 부족: 적층이완     ← 전달된 자속이 부족해서 이완? YES (관찰: 토크 측정)
[X] 부족: 과열흔적     ← 전달된 자속이 부족해서 과열? NO (과도 태그)
[OK] 과도: 과열흔적     ← 전달된 자속이 과도해서 과열? YES (관찰: 육안)
[OK] 유해: 탄화         ← 전달된 자속 정상인데 부작용으로 탄화? YES (관찰: 분해 후)
```

### 인과관계 키워드 매핑

> **SSOT**: [failure-mode-ontology.md](failure-mode-ontology.md#5-태그-키워드-인과관계-매핑)에서 최신 규칙 확인

**검증 스크립트**: [validate_failure_mode.py](../scripts/validate_failure_mode.py) (온톨로지에서 규칙 동적 로드)

### 왜 과/부족/유해가 중요한가?

**FMEA의 핵심 가치**: 과/부족/유해로 **빠짐없이** 고장형태 도출

| 방법 | 5 Why | FMEA (과/부족/유해) |
|------|-------|-------------------|
| 범위 | 알고 있는 문제만 | 알고 있는 + **모르는 문제**까지 |
| 목적 | 원인 추적 | **누락 없이 도출** |

**질문 체크리스트** (기능마다 반드시 확인):
- [ ] 기능이 **부족**하면 어떤 형태? → 도출 (≥1개 필수)
- [ ] 기능이 **과도**하면 어떤 형태? → 해당 없으면 "없음" 명시
- [ ] 기능 수행 시 **부작용**? → 해당 없으면 "없음" 명시

### GATE 체크포인트: 과/부족/유해 분포

```
| 분류 | 개수 | 상태 |
|------|------|------|
| 부족 | N개 | [OK]/[X] (≥1 필수) |
| 과도 | N개 | ℹ️ (0이면 검토) |
| 유해 | N개 | ℹ️ (0이면 검토) |
```

---

## FMEA 논리 검증 체크리스트

### 작성 전 확인

- [ ] 기능 정의에서 시작했는가? (영향에서 시작 [X])
- [ ] 각 기능에 대해 과/부족/유해 분석을 수행했는가?
- [ ] 고장형태가 "지금 관찰 가능한 현상"인가?
- [ ] 고장영향이 "미래에 발생할 결과"인가?
- [ ] 고장원인이 "과거에 일어난 일"인가?

### 작성 후 검증

- [ ] E열(고장형태)에 측정값(증가, 저하, 초과)이 없는가?
- [ ] E열(고장형태)에 소음/진동이 없는가? (C열로 이동)
- [ ] F열(고장원인)에 [단계]: [설명] 형식이 사용되었는가?
- [ ] G열(고장메커니즘)에 원인→과정→결과 형식이 있는가?
- [ ] 각 고장형태가 기능 이상(과/부족/유해)에서 논리적으로 도출되었는가?

---

## 참조

- SKILL.md § [!!] FMEA 핵심 논리
- function-analysis.md § 기능 분석 방법론
- column-details.md § 컬럼별 상세 정의
- failure-mode-forbidden.md § 고장형태 금지 용어

---

**문서 버전**: 2.1 (2026-02-03)
**기준**: 회의 합의 260109 (임채익 이사 피드백), 가이드 V1.3
**변경**:
- v2.0 - E열 태그 형식 및 인과관계 검증 규칙 추가
- v2.1 - 3줄 판단 근거 형식 "기능"→"기능 결과물" 기준으로 변경 (가이드 V1.3 반영)
